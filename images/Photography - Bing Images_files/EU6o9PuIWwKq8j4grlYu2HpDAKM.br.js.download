var ImageFeedUtils;(function(n){function t(){return _qs("div.dgControl")}function i(){var n,i=Array.from(((n=t())===null||n===void 0?void 0:n.querySelectorAll("ul.dgControl_list"))||[]),r=/^mmComponent_(images|SERP)_1_list_\d+$/;return i.filter(function(n){return r.test(n.id)})}function r(n){var t=i();return n<0||n>=t.length?null:t[n]}function u(n,t){var i=r(n),u,f;return i?(u=i.querySelectorAll("li").length,f=Math.min(u,t)+1,_qs("li:nth-child(".concat(f,")"),i)):null}function f(){var n=i(),t;return!n||!n.length?0:(t=n.map(function(n){return n.offsetHeight}),Math.min.apply(Math,t))}function e(n,t,i){return new Promise(function(f,e){var o=r(n),s;if(!o){e(new Error("column not found"));return}s=u(n,t);o.insertBefore(i,s);f()})}function o(){return u(0,0)}function s(){var r=t(),n,u,i;return r?(n=Array.from(r.querySelectorAll("ul.dgControl_list li")),!n||!n.length)?null:(u=Math.floor(Math.random()*n.length),i=n[u],!i)?null:i:null}n.getWaterfallContainer=t;n.getAllColumns=i;n.getColumnByIndex=r;n.getNthElementOfColumn=u;n.calculateMaxHeight=f;n.insertElementToPosition=e;n.getFirstElementOfWF=o;n.getRandomElementOfWF=s;n.EVENT_NAME_WATERFALL_UPDATED="DenseGridResultsUpdated"})(ImageFeedUtils||(ImageFeedUtils={}))